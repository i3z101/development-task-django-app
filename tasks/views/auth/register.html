{% extends '../main.html' %}
{% load static %}


{% block head %}

<link rel="stylesheet" type="text/css" href="{% static 'css/auth/auth.css'%}?{% now 'U' %}">
    
{% endblock head %}


{% block register %}

    <section class="register_container">
        {% if error%}
         <p class="bg-danger p-2 text-white errorMessage">{{error}}</p>
        {%endif%}
        <h1 class="welcome">WELCOME</h1>
        <form action="register" method="post">
          {% csrf_token %}
            <!-- START NAME FIELD -->
            <div class="mb-3 mt-3 row">
                <label for="staticEmail" class="col-sm-2 col-form-label">Name</label>
                <div class="col-sm-10">
                  <input type="text" name="name" class="form-control name">
                </div>
                <div class="mb-3 row">
                    <p class="nameValidation validation">{{nameValidationMessage}}</p>
                </div>
              </div>
              <!-- END NAME FIELD -->
            <!-- START EMAIL FIELD -->
            <div class="mb-3 mt-3 row">
                <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
                <div class="col-sm-10">
                  <input type="email" name="email" class="form-control email">
                </div>
                <div class="mb-3 row">
                    <p class="emailValidation validation">{{emailValidationMessage}}</p>
                </div>
              </div>
              <!-- END EMAIL FIELD -->
              <!-- START PASSWORD FIELD -->
              <div class="mb-3 row">
                <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
                <div class="col-sm-10">
                  <input type="password" name="password" class="form-control password" id="inputPassword">
                </div>
                <div class="mb-3 row">
                  <p class="passwordValidation validation">{{passwordValidationMessage}}</p>
               </div>
              </div>
             <!-- END EMAIL FIELD -->
              <div class="mb-3 row col-md-4 m-auto">
                <button type="submit" class="btn btn-primary mb-3 submit" >Register</button>
              </div>
        </form>
        <!-- Button trigger modal -->
        
        {% if succeed%}
          <input id="redirect" type="text" hidden value="/login" />
          {% include '../reusable/modal.html' with title="Welcom In Our Family" message="Your registration is successful" %}
        {% endif %}
        <div class="text-center">
          <a href="login" class="text-primary">Login? click here</a>
        </div>
    </section>
    
{% endblock register %}


{% block jsFiles %}
<script src="{% static 'js/auth/reusable.js' %}?{% now 'U' %}"></script>
<script src="{% static 'js/auth/auth.js' %}?{% now 'U' %}"></script>
<script src="{% static 'js/validations.js' %}?{% now 'U' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
{% endblock jsFiles %}
    
    
    